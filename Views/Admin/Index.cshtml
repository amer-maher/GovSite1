@model dynamic
@{
  ViewBag.Title = "لوحة التحكم";
  Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<div class="row g-3">
  <div class="col-6 col-md-3">
    <div class="card card-stat"><div class="card-body d-flex justify-content-between">
      <div><div class="text-muted small">الجهات</div><div class="fs-4 fw-bold">@Model.Agencies</div></div>
      <i class="bi bi-bank fs-2 opacity-50"></i>
    </div></div>
  </div>
  <div class="col-6 col-md-3">
    <div class="card card-stat"><div class="card-body d-flex justify-content-between">
      <div><div class="text-muted small">الصفحات</div><div class="fs-4 fw-bold">@Model.Pages</div></div>
      <i class="bi bi-file-text fs-2 opacity-50"></i>
    </div></div>
  </div>
  <div class="col-6 col-md-3">
    <div class="card card-stat"><div class="card-body d-flex justify-content-between">
      <div><div class="text-muted small">الأخبار</div><div class="fs-4 fw-bold">@Model.News</div></div>
      <i class="bi bi-newspaper fs-2 opacity-50"></i>
    </div></div>
  </div>
  <div class="col-6 col-md-3">
    <div class="card card-stat"><div class="card-body d-flex justify-content-between">
      <div><div class="text-muted small">الوسائط</div><div class="fs-4 fw-bold">@Model.Media</div></div>
      <i class="bi bi-images fs-2 opacity-50"></i>
    </div></div>
  </div>
</div>

<div class="card mt-4">
  <div class="card-header d-flex justify-content-between align-items-center">
    <span>النشر الأسبوعي</span><div class="text-muted small">آخر 8 أسابيع</div>
  </div>
  <div class="card-body"><canvas id="chartWeekly" height="80"></canvas></div>
</div>

@section Scripts {
<script>
  const weeks = ['أ','ب','ج','د','ه','و','ز','ح'];
  const pages = [3,5,2,7,4,6,1,8];
  const posts = [1,2,1,3,2,4,0,5];
  new Chart(document.getElementById('chartWeekly'), {
    type: 'line',
    data: { labels: weeks, datasets: [{ label:'صفحات', data: pages, tension:.3 }, { label:'أخبار', data: posts, tension:.3 }] },
    options: { responsive:true, plugins:{ legend:{ position:'bottom' } } }
  });
</script>
}
